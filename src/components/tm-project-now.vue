<template>
  <div class="project-now-item">
    <div class="project-now-item-title">{{ project.project_name }}</div>
    <div class="project-now-status" style="margin-bottom: 6px">
      <div v-if="project.project_status==='3'" style="display: flex;align-items: center">
        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" clip-rule="evenodd" d="M10.5234 2.33675C9.30218 1.7926 7.93776 1.65779 6.63365 1.95244C5.32954 2.24708 4.15561 2.95539 3.28695 3.97173C2.41828 4.98807 1.90142 6.25798 1.81345 7.59206C1.72548 8.92614 2.07112 10.2529 2.79881 11.3745C3.5265 12.4961 4.59725 13.3524 5.85138 13.8158C7.10551 14.2791 8.47582 14.3246 9.75793 13.9456C11.04 13.5665 12.1653 12.7831 12.9658 11.7123C13.7663 10.6414 14.1992 9.34053 14.2 8.00354V7.36C14.2 6.91817 14.5582 6.56 15 6.56C15.4418 6.56 15.8 6.91817 15.8 7.36V8.004C15.799 9.68601 15.2544 11.3231 14.2473 12.6703C13.2402 14.0175 11.8246 15.003 10.2116 15.4799C8.59861 15.9568 6.87467 15.8995 5.2969 15.3166C3.71912 14.7337 2.37204 13.6564 1.45656 12.2454C0.54108 10.8343 0.106249 9.16515 0.21692 7.48678C0.327591 5.80842 0.977833 4.21079 2.07067 2.93218C3.16351 1.65356 4.64038 0.76246 6.28104 0.391775C7.92169 0.0210911 9.63822 0.190684 11.1746 0.875262C11.5782 1.05509 11.7596 1.52803 11.5798 1.9316C11.3999 2.33518 10.927 2.51657 10.5234 2.33675Z" fill="#889ABD"/>
          <path fill-rule="evenodd" clip-rule="evenodd" d="M15.5654 1.83785C15.878 2.15012 15.8782 2.65665 15.566 2.96922L8.56597 9.97622C8.41597 10.1264 8.21245 10.2108 8.00021 10.2108C7.78796 10.2109 7.5844 10.1266 7.43432 9.9765L5.33432 7.8765C5.0219 7.56409 5.0219 7.05755 5.33432 6.74513C5.64674 6.43271 6.15327 6.43271 6.46569 6.74513L7.99972 8.27916L14.434 1.83842C14.7463 1.52584 15.2528 1.52559 15.5654 1.83785Z" fill="#889ABD"/>
        </svg>
        <span class="project-status-for-project-now">Завершен</span>
      </div>
      <div v-else-if="project.project_status==='2'" style="display: flex;align-items: center">
        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M16 8C16 12.416 12.416 16 8 16C3.584 16 0 12.416 0 8C0 7.048 0.176 6.144 0.48 5.296L1.984 5.84C1.736 6.512 1.6 7.24 1.6 8C1.6 11.528 4.472 14.4 8 14.4C11.528 14.4 14.4 11.528 14.4 8C14.4 4.472 11.528 1.6 8 1.6C7.24 1.6 6.52 1.736 5.848 1.984L5.304 0.472C6.152 0.176 7.056 0 8 0C12.416 0 16 3.584 16 8ZM2.8 4C3.464 4 4 3.464 4 2.8C4 2.136 3.464 1.6 2.8 1.6C2.136 1.6 1.6 2.136 1.6 2.8C1.6 3.464 2.136 4 2.8 4ZM5.6 5.6V10.4H7.2V5.6H5.6ZM8.8 5.6V10.4H10.4V5.6H8.8Z" fill="#EC1B1B"/>
        </svg>
        <span class="project-status-for-project-now" style="color: #EC1B1B">Приостановлен</span>
      </div>
      <div v-else style="display: flex;align-items: center">
        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M8.0625 0C7.403 0 6.84837 0.456437 6.69719 1.06991C5.17119 1.36944 3.77909 2.17022 2.74581 3.351C1.62 4.6375 1 6.28856 1 8C1 8.25887 1.20987 8.46875 1.46875 8.46875C1.72763 8.46875 1.9375 8.25887 1.9375 8C1.9375 6.51572 2.47513 5.08394 3.45134 3.96837C4.32819 2.96634 5.50234 2.27956 6.79138 2.00706C7.01713 2.48272 7.50194 2.8125 8.0625 2.8125C8.83791 2.8125 9.46875 2.18166 9.46875 1.40625C9.46875 0.630844 8.83791 0 8.0625 0Z" fill="#2CCF11"/>
          <path d="M12.0177 7.14897C11.9043 7.07012 11.6887 6.94547 11.5349 6.87906L11.2922 6.29313C11.3521 6.14213 11.4176 5.90053 11.4427 5.76094C11.4698 5.60988 11.4213 5.45509 11.3128 5.34656L10.6535 4.68725C10.5449 4.57869 10.3901 4.53016 10.2391 4.55734C10.1016 4.58206 9.86159 4.64647 9.70691 4.70784L9.12097 4.46513C9.05672 4.31631 8.93219 4.09897 8.85106 3.98237C8.76344 3.85637 8.61969 3.78125 8.46622 3.78125H7.53381C7.38034 3.78125 7.23659 3.85637 7.14897 3.98237C7.07012 4.09572 6.94547 4.31138 6.87906 4.46513L6.29313 4.70784C6.14213 4.64794 5.90053 4.58244 5.76094 4.55734C5.60997 4.53025 5.45509 4.57875 5.34656 4.68725L4.68725 5.34656C4.57872 5.45509 4.53019 5.60988 4.55734 5.76094C4.58206 5.89841 4.64647 6.13844 4.70784 6.29313L4.46513 6.87906C4.31631 6.94331 4.09897 7.06784 3.98237 7.14897C3.85637 7.23659 3.78125 7.38034 3.78125 7.53381V8.46622C3.78125 8.61969 3.85637 8.76344 3.98237 8.85106C4.09572 8.92991 4.31138 9.05456 4.46513 9.12097L4.70784 9.70691C4.64794 9.85791 4.58244 10.0995 4.55734 10.2391C4.53019 10.3902 4.57872 10.5449 4.68725 10.6535L5.34656 11.3128C5.45506 11.4213 5.60978 11.4698 5.76094 11.4427C5.89841 11.418 6.13844 11.3536 6.29313 11.2922L6.87906 11.5349C6.94331 11.6837 7.06784 11.9011 7.14897 12.0177C7.23659 12.1437 7.38034 12.2188 7.53381 12.2188H8.46622C8.61969 12.2188 8.76344 12.1437 8.85106 12.0177C8.92991 11.9043 9.05456 11.6887 9.12097 11.5349L9.70691 11.2922C9.85791 11.3521 10.0995 11.4176 10.2391 11.4427C10.3902 11.4698 10.5449 11.4213 10.6535 11.3128L11.3128 10.6535C11.4213 10.5449 11.4698 10.3902 11.4427 10.2391C11.418 10.1016 11.3536 9.86159 11.2922 9.70691L11.5349 9.12097C11.6837 9.05672 11.9011 8.93219 12.0177 8.85106C12.1437 8.76344 12.2188 8.61969 12.2188 8.46622V7.53381C12.2188 7.38034 12.1437 7.23659 12.0177 7.14897ZM8 9.87506C6.96613 9.87506 6.125 9.03394 6.125 8.00006C6.125 6.96619 6.96613 6.12506 8 6.12506C9.03387 6.12506 9.875 6.96619 9.875 8.00006C9.875 9.03394 9.03387 9.87506 8 9.87506Z" fill="#2CCF11"/>
          <path d="M14.53 7.53125C14.2711 7.53125 14.0612 7.74112 14.0612 8C14.0612 9.48428 13.5236 10.9161 12.5474 12.0316C11.6705 13.0337 10.4964 13.7204 9.20734 13.9929C8.98159 13.5173 8.49678 13.1875 7.93622 13.1875C7.16081 13.1875 6.52997 13.8183 6.52997 14.5938C6.52997 15.3692 7.16081 16 7.93622 16C8.59572 16 9.15034 15.5436 9.30153 14.9301C10.8275 14.6306 12.2196 13.8298 13.2529 12.649C14.3787 11.3625 14.9987 9.71144 14.9987 8C14.9987 7.74112 14.7888 7.53125 14.53 7.53125Z" fill="#2CCF11"/>
        </svg>
        <span class="project-status-for-project-now" style="color: #2CCF11">Активный</span>
      </div>
    </div>
    <div class="projects-deadline">
      <svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M6.25 12C6.91 12 7.45 11.46 7.45 10.8L7.444 8.892C7.444 8.574 7.318 8.274 7.096 8.046L5.05 6L7.096 3.942C7.318 3.72 7.444 3.414 7.444 3.096L7.45 1.2C7.45 0.54 6.91 0 6.25 0H1.45C0.79 0 0.25 0.54 0.25 1.2V3.096C0.25 3.414 0.376 3.72 0.598 3.948L2.65 6L0.604 8.04C0.376 8.268 0.25 8.574 0.25 8.892V10.8C0.25 11.46 0.79 12 1.45 12H6.25ZM1.45 3.054V1.8C1.45 1.47 1.72 1.2 2.05 1.2H5.65C5.98 1.2 6.25 1.47 6.25 1.8V3.054C6.25 3.216 6.184 3.366 6.076 3.48L3.85 5.7L1.624 3.474C1.516 3.366 1.45 3.21 1.45 3.054Z" fill="#889ABD"/>
      </svg>
      <div style="margin-left: 8px">{{ project.project_deadline }}</div>
    </div>
    <div class="executers">
      <div
        v-for="(executer,index) in GET_ALL_USERS"
        class="executers-item"
        :style="{transform: `translateX(${-15*index}px)`,zIndex: GET_ALL_USERS.length+1-index,
                 display: index>4 ? 'none': ''}"
        :key="index"
      >{{executer.username[0]}}
      </div>
    </div>
  </div>
</template>

<script>
import {mapGetters} from 'vuex'
export default {
  name: "tm-project-now",
  props: {
    project: {
      type: Object,
      default() {
        return {};
      }
    }
  },
  computed: {
    ...mapGetters([
        'GET_ALL_USERS'
    ])
  }
}
</script>

<style>
.projects-deadline {
  margin-left: 4px;
  display: flex;
  align-items: center;
  cursor: pointer;
  margin-bottom: 24px;
  color: #576F9D;
  font-size: 0.85rem;
}
.project-now-item {
  padding: 16px 26px 26px;
  background: white;
  box-shadow: 0 0 15px rgba(2, 57, 164, 0.05);
  border-radius: 10px;
  cursor: pointer;
}
.project-now-item:hover {
  box-shadow: 0 0 25px rgba(2, 57, 164, 0.15);
}
.project-status-for-project-now {
  color: #889ABD;
  font-size: 0.85rem;
  align-self: center;
  font-weight: 600;
  margin-left: 4px;
}
.project-now-item-title {
  word-break: break-all;
  line-height: 22px;
  color: #10141D;
  margin-bottom: 8px;
}
.executers {
  display: flex;
}
.project-now-status {
  margin-bottom: 21px;
}
.executers-item {
  background: #91B6FE;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #FCFCFD;
  font-size: 1.3rem;
  border: 3px solid #FFFFFF;
  width: 32px;
  height: 32px;
  border-radius: 50%;
}
</style>