<template>
  <div id="tm-main-wrapper">
    <modalWindowTask v-if="SHOW_TASK_WINDOW"/>
    <div class="header">
      <div class="header-container">
        <div class="container-for-burgMenu" @click="showLeftMenu=!showLeftMenu">
          <div v-if="$store.state.user.id">
            <div class="burger-item"></div>
            <div class="burger-item"></div>
            <div class="burger-item"></div>
          </div>
        </div>
        <div class="container-for-logo-and-user-account">
          <tmLogo/>
          <img src="../assets/images/user.png" style="cursor: pointer;margin-right: 32px" v-if="$store.state.user.id">
        </div>
      </div>
    </div>
    <div class="content">
      <div
          class="left-menu"
          v-if="$store.state.user.id">
        <div>
          <router-link :to="'/mainPage'">
            <div
                class="left-menu-item"
                :style="{background: selectedLeftMenuItem===0 ? '#E7EDF4': ''}"
                style="margin-top: 88px"
                @click="selectedLeftMenuItem=0">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M2.40237 16.0002H13.6024C14.4848 16.0002 15.2024 15.2826 15.2024 14.4002V7.20016C15.2025 7.09509 15.1818 6.99104 15.1416 6.89397C15.1014 6.79691 15.0424 6.70875 14.968 6.63456L8.56797 0.234561C8.49374 0.160204 8.40557 0.101214 8.30852 0.0609654C8.21147 0.0207169 8.10744 0 8.00237 0C7.8973 0 7.79327 0.0207169 7.69621 0.0609654C7.59916 0.101214 7.511 0.160204 7.43677 0.234561L1.03677 6.63456C0.96237 6.70875 0.903363 6.79691 0.863137 6.89397C0.822912 6.99104 0.80226 7.09509 0.802369 7.20016V14.4002C0.802369 15.2826 1.51997 16.0002 2.40237 16.0002ZM6.40237 14.4002V10.4002H9.60237V14.4002H6.40237ZM2.40237 7.53136L8.00237 1.93136L13.6024 7.53136L13.6032 14.4002H11.2024V10.4002C11.2024 9.51776 10.4848 8.80016 9.60237 8.80016H6.40237C5.51997 8.80016 4.80237 9.51776 4.80237 10.4002V14.4002H2.40237V7.53136Z" :fill="selectedLeftMenuItem===0 ? '#4F8AFD' : '#889ABD'"/>
              </svg>
              <!--            <span style="margin-top: 1px">Главная</span>-->
            </div>
          </router-link>
          <router-link :to="'/MyTasks'">
            <div
                class="left-menu-item"
                :style="{background: selectedLeftMenuItem===1 ? '#E7EDF4': ''}"
                @click="selectedLeftMenuItem=1">
              <svg width="16" height="14" viewBox="0 0 16 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M4.3628 0.109319C4.32796 0.0743592 4.28656 0.0466203 4.24098 0.0276933C4.1954 0.00876631 4.14653 -0.000976562 4.09717 -0.000976562C4.04782 -0.000976562 3.99895 0.00876631 3.95336 0.0276933C3.90778 0.0466203 3.86638 0.0743592 3.83155 0.109319L1.84155 2.08776L1.13217 1.39651C1.09733 1.36155 1.05593 1.33381 1.01035 1.31488C0.964771 1.29595 0.915901 1.28621 0.866546 1.28621C0.81719 1.28621 0.768321 1.29595 0.722739 1.31488C0.677157 1.33381 0.635759 1.36155 0.600921 1.39651L0.110296 1.88776C0.0753357 1.9226 0.0475969 1.96399 0.0286699 2.00957C0.00974286 2.05516 0 2.10403 0 2.15338C0 2.20274 0.00974286 2.25161 0.0286699 2.29719C0.0475969 2.34277 0.0753357 2.38417 0.110296 2.41901L1.59748 3.90026C1.67172 3.97082 1.77022 4.01017 1.87264 4.01017C1.97506 4.01017 2.07356 3.97082 2.1478 3.90026L2.63498 3.41213L4.89123 1.15619C4.96153 1.08584 5.00125 0.990603 5.00178 0.891147C5.00231 0.791691 4.9636 0.696039 4.89405 0.624944L4.3628 0.109319ZM4.3628 5.08401C4.32796 5.04905 4.28656 5.02131 4.24098 5.00238C4.1954 4.98345 4.14653 4.97371 4.09717 4.97371C4.04782 4.97371 3.99895 4.98345 3.95336 5.00238C3.90778 5.02131 3.86638 5.04905 3.83155 5.08401L1.84155 7.07526L1.13217 6.38463C1.09733 6.34967 1.05593 6.32193 1.01035 6.30301C0.964771 6.28408 0.915901 6.27434 0.866546 6.27434C0.81719 6.27434 0.768321 6.28408 0.722739 6.30301C0.677157 6.32193 0.635759 6.34967 0.600921 6.38463L0.110296 6.87494C0.0753357 6.90978 0.0475969 6.95118 0.0286699 6.99676C0.00974286 7.04234 0 7.09121 0 7.14057C0 7.18992 0.00974286 7.23879 0.0286699 7.28438C0.0475969 7.32996 0.0753357 7.37136 0.110296 7.40619L1.59373 8.89057C1.66791 8.96111 1.76637 9.00045 1.86873 9.00045C1.9711 9.00045 2.06955 8.96111 2.14373 8.89057L2.63436 8.40026L4.89061 6.14338C4.96064 6.07352 5.00023 5.97882 5.00075 5.8799C5.00128 5.78098 4.9627 5.68586 4.89342 5.61526L4.3628 5.08401ZM1.99998 10.4999C1.17217 10.4999 0.481546 11.1718 0.481546 11.9999C0.481546 12.8281 1.1728 13.4999 1.99998 13.4999C2.39781 13.4999 2.77934 13.3419 3.06064 13.0606C3.34195 12.7793 3.49998 12.3978 3.49998 11.9999C3.49998 11.6021 3.34195 11.2206 3.06064 10.9393C2.77934 10.658 2.39781 10.4999 1.99998 10.4999ZM15.5 10.9999H6.49998C6.36737 10.9999 6.2402 11.0526 6.14643 11.1464C6.05266 11.2402 5.99998 11.3673 5.99998 11.4999V12.4999C5.99998 12.6326 6.05266 12.7597 6.14643 12.8535C6.2402 12.9473 6.36737 12.9999 6.49998 12.9999H15.5C15.6326 12.9999 15.7598 12.9473 15.8535 12.8535C15.9473 12.7597 16 12.6326 16 12.4999V11.4999C16 11.3673 15.9473 11.2402 15.8535 11.1464C15.7598 11.0526 15.6326 10.9999 15.5 10.9999ZM15.5 0.999944H6.49998C6.36737 0.999944 6.2402 1.05262 6.14643 1.14639C6.05266 1.24016 5.99998 1.36734 5.99998 1.49994V2.49994C5.99998 2.63255 6.05266 2.75973 6.14643 2.8535C6.2402 2.94727 6.36737 2.99994 6.49998 2.99994H15.5C15.6326 2.99994 15.7598 2.94727 15.8535 2.8535C15.9473 2.75973 16 2.63255 16 2.49994V1.49994C16 1.36734 15.9473 1.24016 15.8535 1.14639C15.7598 1.05262 15.6326 0.999944 15.5 0.999944ZM15.5 5.99994H6.49998C6.36737 5.99994 6.2402 6.05262 6.14643 6.14639C6.05266 6.24016 5.99998 6.36734 5.99998 6.49994V7.49994C5.99998 7.63255 6.05266 7.75973 6.14643 7.8535C6.2402 7.94727 6.36737 7.99994 6.49998 7.99994H15.5C15.6326 7.99994 15.7598 7.94727 15.8535 7.8535C15.9473 7.75973 16 7.63255 16 7.49994V6.49994C16 6.36734 15.9473 6.24016 15.8535 6.14639C15.7598 6.05262 15.6326 5.99994 15.5 5.99994Z" :fill="selectedLeftMenuItem===1 ? '#4F8AFD' : '#889ABD'"/>
              </svg>
              <!--            <span style="align-self: flex-end">Задачи</span>-->
            </div>
          </router-link>
          <div
              class="left-menu-item"
              :style="{background: selectedLeftMenuItem===2 ? '#E7EDF4': ''}"
              @click="selectedLeftMenuItem=2">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M13.6 14.4V5.6H2.39999V14.4H13.6ZM11.2 0H12.8V1.6H13.6C14.0243 1.6 14.4313 1.76857 14.7314 2.06863C15.0314 2.36869 15.2 2.77565 15.2 3.2V14.4C15.2 14.8243 15.0314 15.2313 14.7314 15.5314C14.4313 15.8314 14.0243 16 13.6 16H2.39999C1.97564 16 1.56868 15.8314 1.26862 15.5314C0.968559 15.2313 0.799988 14.8243 0.799988 14.4V3.2C0.799988 2.312 1.51199 1.6 2.39999 1.6H3.19999V0H4.79999V1.6H11.2V0ZM3.99999 7.2H5.59999V8.8H3.99999V7.2ZM10.4 7.2H12V8.8H10.4V7.2ZM7.19999 10.4H8.79999V12H7.19999V10.4ZM10.4 10.4H12V12H10.4V10.4Z" :fill="selectedLeftMenuItem===2 ? '#4F8AFD' : '#889ABD'"/>
            </svg>
            <!--            <span>Календарь</span>-->
          </div>
          <div
              class="left-menu-item"
              :style="{background: selectedLeftMenuItem===3 ? '#E7EDF4': ''}"
              @click="selectedLeftMenuItem=3">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M-2.13408 16.9983L-2.48763 16.6448L-2.13408 16.2912L8.52381 5.63333L4.69906 5.63333C3.89075 5.63333 3.23549 4.97806 3.23549 4.16976C3.23549 3.36145 3.89075 2.70618 4.69906 2.70618H12.0572C12.8655 2.70618 13.5208 3.36145 13.5208 4.16975L13.5208 11.5279C13.5208 12.3362 12.8655 12.9914 12.0572 12.9914C11.2489 12.9914 10.5936 12.3362 10.5936 11.5279L10.5936 7.70313L-0.0642775 18.361L-0.417831 18.7146L-0.771384 18.361L-2.13408 16.9983Z" :fill="selectedLeftMenuItem===3 ? '#4F8AFD' : '#889ABD'" stroke="#FCFCFD"/>
            </svg>
<!--                        <span>Входящие</span>-->
          </div>
          <router-link :to="'/projects'">
            <div
                class="left-menu-item"
                :style="{background: selectedLeftMenuItem===4 ? '#E7EDF4': ''}"
                @click="selectedLeftMenuItem=4">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M1.75 0C1.28587 0 0.840752 0.184374 0.512563 0.512563C0.184374 0.840752 0 1.28587 0 1.75L0 14.25C0 15.216 0.784 16 1.75 16H14.25C14.7141 16 15.1592 15.8156 15.4874 15.4874C15.8156 15.1592 16 14.7141 16 14.25V1.75C16 1.28587 15.8156 0.840752 15.4874 0.512563C15.1592 0.184374 14.7141 0 14.25 0H1.75ZM1.5 1.75C1.5 1.6837 1.52634 1.62011 1.57322 1.57322C1.62011 1.52634 1.6837 1.5 1.75 1.5H14.25C14.3163 1.5 14.3799 1.52634 14.4268 1.57322C14.4737 1.62011 14.5 1.6837 14.5 1.75V14.25C14.5 14.3163 14.4737 14.3799 14.4268 14.4268C14.3799 14.4737 14.3163 14.5 14.25 14.5H1.75C1.6837 14.5 1.62011 14.4737 1.57322 14.4268C1.52634 14.3799 1.5 14.3163 1.5 14.25V1.75ZM11.75 3C11.5511 3 11.3603 3.07902 11.2197 3.21967C11.079 3.36032 11 3.55109 11 3.75V11.25C11 11.4489 11.079 11.6397 11.2197 11.7803C11.3603 11.921 11.5511 12 11.75 12C11.9489 12 12.1397 11.921 12.2803 11.7803C12.421 11.6397 12.5 11.4489 12.5 11.25V3.75C12.5 3.55109 12.421 3.36032 12.2803 3.21967C12.1397 3.07902 11.9489 3 11.75 3ZM3.5 3.75C3.5 3.55109 3.57902 3.36032 3.71967 3.21967C3.86032 3.07902 4.05109 3 4.25 3C4.44891 3 4.63968 3.07902 4.78033 3.21967C4.92098 3.36032 5 3.55109 5 3.75V9.25C5 9.44891 4.92098 9.63968 4.78033 9.78033C4.63968 9.92098 4.44891 10 4.25 10C4.05109 10 3.86032 9.92098 3.71967 9.78033C3.57902 9.63968 3.5 9.44891 3.5 9.25V3.75ZM8 3C7.80109 3 7.61032 3.07902 7.46967 3.21967C7.32902 3.36032 7.25 3.55109 7.25 3.75V7.25C7.25 7.44891 7.32902 7.63968 7.46967 7.78033C7.61032 7.92098 7.80109 8 8 8C8.19891 8 8.38968 7.92098 8.53033 7.78033C8.67098 7.63968 8.75 7.44891 8.75 7.25V3.75C8.75 3.55109 8.67098 3.36032 8.53033 3.21967C8.38968 3.07902 8.19891 3 8 3Z" :fill="selectedLeftMenuItem===4 ? '#4F8AFD' : '#889ABD'"/>
              </svg>
              <!--            <span>Проекты</span>-->
            </div>
          </router-link>
        </div>
      </div>
      <router-view />
    </div>
  </div>
</template>

<script>
import tmLogo from '../components/tm-logo'
import {mapGetters} from 'vuex'
import modalWindowTask from '../components/modal-window-task'

export default {
  name: "tm-main-wrapper",
  components: {
    tmLogo,
    modalWindowTask
  },
  data() {
    return {
      selectedLeftMenuItem: 0,
      showLeftMenu: true
    }
  },
  computed: {
    ...mapGetters([
        'SHOW_TASK_WINDOW',
        'GET_TASK_DATA'
    ])
  }
}
</script>

<style>
.header {
  z-index: 2;
  display: flex;
  height: 56px;
  position: fixed;
  width: 100%;
  top: 0;
  background: #FFFFFF;
  box-shadow: 0 0 15px rgba(0, 0, 0, 0.05);
}
.header-container {
  width: 100%;
  max-width: 1440px;
  margin: auto;
  display: flex;
}
.container-for-logo-and-user-account {
  display:flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
}
.content {
  max-width: 1440px;
  margin: auto;
  display: flex;
  background: #EDF3FF;
  min-height: 100vh;
}
.left-menu {
  position: fixed;
  background: #FCFCFD;
  height: 100%;
}
.left-menu-item {
  width: 64px;
  height: 48px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
}
.container-for-burgMenu {
  height: 56px;
  width: 64px;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  cursor: pointer;
}
.burger-item {
  width: 16px;
  margin-bottom: 4px;
  height: 2px;
  background: #889ABD;
}
</style>